<!doctype html>
<html>
<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="/css/graph.css">
</head>
<body>
    <div id="alert">
        <text id="alertText">Wrong Sql</text>
        <span id="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
    </div>

    <div id="topBar">
        <div id="sqlQuery">
        <textarea id="queryArea"></textarea>
        <button id="sqlSubmit"></button>
        <text id="info">Total 0 transactions</text>
    </div>
        <div id="options">
            <button id="optionButton"></button>
            <div id="options-content">
                <ul>
                    <li id="optionTooltip">Tooltip</li>
                    <li id="optionSorting">Sorting</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="tooltipOption">
        <h3 class="optionTitle">Select info to show for tooltip</h3>
        <hr class="optionHr">
        <input type="checkbox" id="TCservice" value="service">
        <label for="TCservice">service time(Flash service finish time - Host interface arrival time)</label> <br>
        <input type="checkbox" id="TCdelay" value="delay">
        <label for="TCdelay">delay time(Flash scheduling time - TSU arrival time)</label> <br>
        <input type="checkbox" id="TChost_int_arr_time" value="host_int_arr_time">
        <label for="TChost_int_arr_time">Host interface arrival time</label> <br>
        <input type="checkbox" id="TCtsu_arr_time" value="tsu_arr_time">
        <label for="TCtsu_arr_time">TSU arrival time</label> <br>
        <input type="checkbox" id="TCflash_sche_time" value="flash_sche_time">
        <label for="TCflash_sche_time">Flash scheduling time</label> <br>
        <input type="checkbox" id="TCflash_serv_fin_time" value="flash_serv_fin_time">
        <label for="TCflash_serv_fin_time">Flash service finish time</label> <br>
        <hr class="optionHr">
        <input type="checkbox" id="TCid" value="id">
        <label for="TCid">db-id</label> <br>
        <input type="checkbox" id="TCrequestsId" value="requestsId">       
        <label for="TCrequestsId">requestsId</label> <br>
        <input type="checkbox" id="TCsource" value="source">
        <label for="TCsource">source</label> <br>
        <input type="checkbox" id="TCtype" value="type">
        <label for="TCtype">type</label> <br>
        <input type="checkbox" id="TCtxId" value="txId">       
        <label for="TCtxId">txId</label> <br>
    </div>

    <div id="tooltip">
    </div>

    <div id="sortingOption">
        <h3 class="optionTitle">Sorting order</h3>
        <hr class="optionHr">
        <ol id="sortingItems">
        </ol>
        <hr class="optionHr">
        <button id="addSortingItem">&plus;</button>
        <button id="sortButton">Sort</button>
        <button id="revertButton">Revert to last sort</button>
    </div>

    <div id="sortingItemCopy">
        <li class="sortingListCopy">
            <select class="sortingCol">
                <option value="host_int_arr_time">Host interface arrival time</option>
                <option value="tsu_arr_time">TSU arrival time</option>
                <option value="flash_sche_time">Flash scheduling time</option>
                <option value="flash_serv_fin_time">Flash service finished time</option>
                <option value="requestsId">requestsId</option>
                <option value="source">source</option>
                <option value="type">type</option>
                <option value="txId">txId</option>
                <option value="service">service</option>
                <option value="delay">delay</option>
                <option value="target">target</option>
            </select>
            <select class="sortingBy">
                <option value="asc">&uparrow;</option>
                <option value="desc">&downarrow;</option>
            </select>
            <button>&times;</button>
        </li>
    </div>

    <svg id="mainSvg">
        <g id="plotArea">
            <clipPath id="clippy">
                <rect id="clippyRect" fill="none"></rect>
            </clipPath>

            <clipPath id="clippyjustgraph">
                <rect id="clippyjustgraphRect" fill="none"></rect>
            </clipPath>

            <g id="drawingBoard">
                <g id="graphTop" clip-path="url(#clippyjustgraph)"></g>
                <g id="infoG" clip-path="url(#clippyjustgraph)">
                    <g id="infoDrawing"></g>
                    <g id="infoBorders">
                        <rect id="srcBorder" class="infoBorder"></rect>
                        <rect id="typeBorder" class="infoBorder"></rect>
                    </g>
                </g>

                <rect id="targetRect" clip-path="url(#clippy)"></rect>
            </g>

            <g id="xAxisG" ></g>
            <g id="yAxisG"></g>
            <g id="yGridG" clip-path="url(#clippy)"></g>

            <g id="infoAxis"></g>
        </g>

        <g id="legendG">
            <g id="sourceLegendG"></g>
            <g id="typeLegendG"></g>
            <g id="delayLegendG"></g>
        </g>
    </svg>
    <script src="/js/graph.js" type="module"></script>
</body>
</html>